(this["webpackJsonpnotch-ordering"]=this["webpackJsonpnotch-ordering"]||[]).push([[0],{31:function(e,t,r){},32:function(e,t,r){},34:function(e,t,r){},35:function(e,t,r){},38:function(e,t,r){},39:function(e,t,r){},40:function(e,t,r){},41:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),s=r(7),c=r.n(s),i=r(11),o=(r(31),r(8)),l=r(2),u=r(5),p=r(22),d=r(9),j=r(10),b=r(13),O=r(12),h=r(6),f=(r(32),r(0)),v=function(){return Object(f.jsx)("svg",{width:"200px",height:"30px",viewBox:"0 0 400 105",version:"1.1",children:Object(f.jsx)("g",{id:"Logos",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:Object(f.jsx)("g",{id:"logo/notch/knockout",fill:"#FFFFFF",children:Object(f.jsx)("path",{d:"M127.551167,28.1290075 C151.147466,28.1290075 168.603587,43.99481 168.603587,66.5645037 C168.603587,89.136402 151.147466,105 127.551167,105 C103.954868,105 86.4987472,89.136402 86.4987472,66.5645037 C86.4987472,43.99481 103.954868,28.1290075 127.551167,28.1290075 Z M277.509262,28.1301097 C295.824349,28.1301097 307.99047,36.8841881 312.742243,49.7915486 L312.742243,49.7915486 L291.320819,58.5323999 L291.248324,58.5500359 C289.471077,51.680807 285.431081,47.756793 278.640637,47.756793 C270.398079,47.756793 264.095334,53.9712848 264.095334,66.565606 C264.095334,79.1577227 270.398079,85.3722145 278.640637,85.3722145 C285.909993,85.3722145 290.112555,80.6369437 291.729432,72.7955293 L291.729432,72.7955293 L308.557256,79.6757807 L313.403493,81.6444012 C309.115254,95.4820617 296.654756,104.998898 277.509262,104.998898 C254.07553,104.998898 237.427847,90.1163032 237.427847,66.565606 C237.427847,43.1758374 254.07553,28.1301097 277.509262,28.1301097 Z M50.9118549,28.1294484 C70.7910944,28.1294484 78.7129132,42.0310394 78.7129132,57.2421047 L78.7129132,57.2421047 L78.7129132,103.036229 L52.528732,103.036229 L52.528732,63.6197297 C52.528732,53.6443571 48.1658002,48.4108688 40.2439815,48.4108688 C31.3555515,48.4108688 26.1841812,56.2611012 26.1841812,67.2196818 L26.1841812,67.2196818 L26.1841812,103.036229 L0,103.036229 L0,38.8367157 L26.1841812,28.1316529 L26.1841812,42.6857766 C29.7386744,34.180807 40.2439815,28.1294484 50.9118549,28.1294484 Z M347.466874,0 L347.471268,42.6857766 C351.025761,34.180807 361.531068,28.1294484 372.198942,28.1294484 C392.078181,28.1294484 400,42.0310394 400,57.2421047 L400,57.2421047 L400,103.036229 L373.815819,103.036229 L373.815819,63.6197297 C373.815819,53.6443571 369.452887,48.4108688 361.531068,48.4108688 C352.642638,48.4108688 347.471268,56.2611012 347.471268,67.2196818 L347.471268,67.2196818 L347.471268,103.036229 L321.287087,103.036229 L321.287087,10.7028583 L347.466874,0 Z M217.377034,8.07773705 L217.377034,25.925387 L242.29803,15.7361778 L242.29803,35.1953189 L217.377034,45.3845282 L217.377034,103.001398 L192.001292,103.001398 L192.001292,55.7567111 L175.19983,62.6281446 L175.19983,43.1690034 L192.001292,36.2997745 L192.001292,18.454329 L217.377034,8.07773705 Z M127.551167,47.1031581 C118.337604,47.1031581 113.166234,54.9533905 113.166234,66.5645037 C113.166234,78.1778214 118.337604,86.0280539 127.551167,86.0280539 C136.76473,86.0280539 141.9361,78.1778214 141.9361,66.5645037 C141.9361,54.9533905 136.76473,47.1031581 127.551167,47.1031581 Z",id:"Combined-Shape-Copy"})})})})},m=function(){return Object(f.jsx)("header",{children:Object(f.jsx)(v,{})})},y=r(18),x="DROPDOWN",g="supplier",L="status",C="All Suppliers",S="All Status",w="prev",k="none",F="asc",A="desc",N=(r(34),["name","type","placeholder","options","cb","wrapperStyle","isMulti","listItemStyle"]),R=function(e){var t=e.select,r=Object(n.useRef)(null);return t&&r.current&&r.current.selectItem(t),Object(f.jsx)(y.Dropdown,Object(l.a)({ref:r},e))},P=function(e){var t=e.list,r=void 0===t?[]:t;return Array.isArray(r)&&r.map((function(e){var t=e.name,r=e.type,n=e.placeholder,a=e.options,s=e.cb,c=e.wrapperStyle,i=void 0===c?{}:c,o=(e.isMulti,e.listItemStyle),p=Object(u.a)(e,N);switch(r){case x:return Object(f.jsx)(R,Object(l.a)({name:t,title:n,list:a,onChange:s,styles:{wrapper:i,listItem:o}},p));default:return Object(f.jsx)(f.Fragment,{})}}))},I=function(e){var t=e.onResetClick;return Object(f.jsxs)("section",{className:"filter-container",children:[Object(f.jsx)(P,Object(l.a)({},e)),Object(f.jsxs)("button",{onClick:t,children:[Object(f.jsx)("i",{className:"fa fa-times"}),Object(f.jsx)("span",{children:"Reset Filters"})]})]})},D=r(3),E=function(e,t,r){return Array.isArray(e)?e.sort((function(e,n){return r===F?e[t]<n[t]?-1:1:r===A?e[t]<n[t]?1:-1:0})):[]},M=function(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,c=Math.ceil(e/a);if(n<1?n=1:n>c&&(n=c),c<=s)t=1,r=c;else{var i=Math.floor(s/2),o=Math.ceil(s/2)-1;n<=i?(t=1,r=s):n+o>=c?(t=c-s+1,r=c):(t=n-i,r=n+o)}var l=(n-1)*a,u=Math.min(l+a-1,e-1),p=Array.from(Array(r+1-t).keys()).map((function(e){return t+e}));return{totalItems:e,currentPage:n,pageSize:a,totalPages:c,startPage:t,endPage:r,startIndex:l,endIndex:u,pages:p}},T=(r(35),["key","display"]),B=function(e){Object(b.a)(r,e);var t=Object(O.a)(r);function r(){var e;Object(d.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state=Object(l.a)(Object(l.a)({},M(0)),{},{sortColumn:"",sortOrder:k,mRows:[]}),e.setPaginationDataState=function(){var t=e.props,r=t.rows,n=void 0===r?[]:r,a=t.pageSize,s=void 0===a?10:a;e.setState(Object(l.a)(Object(l.a)({},M(n.length,1,s)),{},{mRows:Object(D.a)(n)}))},e.onColumnClick=function(t){return function(){var r=e.props.rows,n=e.state,a=n.sortOrder,s=n.sortColumn,c=s!==t&&""!==s||a!==k?s!==t&&a!==k?F:s===t&&a===F?A:k:F,i=c!==k?E(Object(D.a)(r),t,c):Object(D.a)(r);e.setState({sortColumn:t,sortOrder:c,mRows:i})}},e.onPageChange=function(t){return function(){var r=e.props,n=r.rows,a=r.pageSize,s=void 0===a?10:a,c=e.state.currentPage;t===w?c-=1:c+=1,e.setState(Object(l.a)({},M(n.length,c,s)))}},e}return Object(j.a)(r,[{key:"componentDidMount",value:function(){this.setPaginationDataState()}},{key:"componentDidUpdate",value:function(e){var t=e.rows,r=void 0===t?[]:t,n=this.props.rows;r!==(void 0===n?[]:n)&&this.setPaginationDataState()}},{key:"renderHeader",value:function(){var e=this,t=this.props.columns,r=this.state,n=r.sortColumn,a=r.sortOrder;if(!Array.isArray(t))return Object(f.jsx)("tr",{});var s=t.map((function(t){var r=t.key,s=t.display,c=t.sort,i=n===r&&a!==k,o=a===F?"fa fa-arrow-down":"fa fa-arrow-up";return c?Object(f.jsxs)("th",{className:"sort",onClick:e.onColumnClick(r),children:[Object(f.jsx)("span",{children:s}),i&&Object(f.jsx)("i",{className:o})]},r):Object(f.jsx)("th",{children:s},r)}));return Object(f.jsx)("tr",{children:s})}},{key:"renderRows",value:function(){var e=this.props.columns,t=this.state,r=t.startIndex,n=t.endIndex,a=t.mRows;if(!Array.isArray(e)&&!Array.isArray(a))return Object(f.jsx)("tr",{});var s=function(e,t){var r=t.component,n=t.key,a=t.selector;return r?Object(f.jsx)(r,{data:e}):a?a(e):e[n]};return Object(D.a)(a).slice(r,n+1).map((function(t){var r=e.map((function(e,r){var n=e.key,a=e.display,c=Object(u.a)(e,T);return Object(f.jsx)("td",{"data-label":a,children:s(t,Object(l.a)(Object(l.a)({},c),{},{key:n}))},r)}));return Object(f.jsx)("tr",{children:r})}))}},{key:"render",value:function(){var e=this.props.rows,t=void 0===e?[]:e,r=this.state,n=r.currentPage,a=r.startPage,s=r.endPage,c=!t.length;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("table",{className:"table",children:[Object(f.jsx)("thead",{children:this.renderHeader()}),Object(f.jsx)("tbody",{children:this.renderRows()})]}),c&&Object(f.jsx)("div",{className:"no-rows",children:"No rows to display"}),Object(f.jsxs)("div",{className:"pagination",children:[n!==a&&!c&&Object(f.jsx)("i",{className:"fa fa-chevron-left",onClick:this.onPageChange(w)}),Object(f.jsxs)("span",{children:["Page: ",n]}),n!==s&&Object(f.jsx)("i",{className:"fa fa-chevron-right",onClick:this.onPageChange("next")})]})]})}}]),r}(a.a.Component),_=r(17),z=r.n(_),Z=r(19),H="FETCH_ORDER_LIST_SUCCESS",U="FETCH_ORDER_LIST_FAIL",J="RESET_FILTERS",V="SET_SELECTED_FILTER";function W(){return function(){var e=Object(Z.a)(z.a.mark((function e(t){var r,n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("http://api.interview.staging.foodieorders.com","/v3/orders/search"),{method:"POST",body:JSON.stringify({})});case 3:return r=e.sent,e.next=6,r.json();case 6:n=e.sent,t({type:H,response:n}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:U});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()}function Y(){return{type:J}}function q(e){return{type:V,value:e}}var G=r(20),K=r.n(G),Q=(r(38),{Delivered:"light-green","In Shopping Cart":"light-purple"}),X=function(e){var t=e.data.orderBuyerStatus,r="status-container ".concat(Q[t]);return Object(f.jsx)("span",{className:r,children:t})},$=(r(39),[{key:"orderBuyerStatus",display:"STATUS",component:X,sort:!0},{key:"deliveryDay",display:"DELIVERY DATE",selector:function(e){var t=e.deliveryDay;return t?K()(t).format("ll"):""}},{key:"vendorName",display:"SUPPLIER",component:function(e){var t=e.data,r=t.vendorName,n=t.isPendingVendorOnboarding,a=t.isBYOS;return Object(f.jsxs)("span",{children:[Object(f.jsx)("span",{children:r}),!a&&Object(f.jsx)("span",{className:"market",children:"Market"}),n&&Object(f.jsx)("span",{className:"pending-onboarding",children:"1st"})]})},sort:!0},{key:"total",display:"TOTAL",selector:function(e){var t=e.total;return t||""}}]),ee=[{type:x,name:g,placeholder:"Select supplier",options:[],wrapperStyle:{width:"300px",fontSize:"14px",margin:"5px 10px 0 0"},listItemStyle:{fontSize:"14px"},cb:function(){return{}}},{type:x,name:L,placeholder:"Select status",options:[],wrapperStyle:{width:"300px",fontSize:"14px",margin:"5px 10px 5px 0"},listItemStyle:{fontSize:"14px"},cb:function(){return{}}}],te=(r(40),["name"]),re=function(e){Object(b.a)(r,e);var t=Object(O.a)(r);function r(){var e;Object(d.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).onOptionSelect=function(t){return function(r){var n=e.props.selectedFilters,a=r.value;if(a===C||a===S){n[t];var s=Object(u.a)(n,[t].map(p.a));Object.keys(s).length?e.props.setSelectedFilter(Object(l.a)({},s)):e.props.resetFilters()}else e.props.setSelectedFilter(Object(l.a)(Object(l.a)({},n),{},Object(o.a)({},t,a)))}},e.onResetClick=function(){return e.props.resetFilters()},e}return Object(j.a)(r,[{key:"componentDidMount",value:function(){this.props.fetchOrders()}},{key:"render",value:function(){var e=this,t=this.props,r=t.orderList,n=t.supplierOptions,a=void 0===n?[]:n,s=t.statusOptions,c=void 0===s?[]:s,i=t.selectedFilters,o=ee.map((function(t){var r=t.name,n=Object(u.a)(t,te);switch(r){case g:var s=i.vendorName||C;return Object(l.a)(Object(l.a)({},n),{},{cb:e.onOptionSelect("vendorName"),options:a},a.length?{select:{value:s,label:s}}:{});case L:var o=i.orderBuyerStatus||S;return Object(l.a)(Object(l.a)({},n),{},{cb:e.onOptionSelect("orderBuyerStatus"),options:c},c.length?{select:{value:o,label:o}}:{});default:return Object(l.a)({name:r},n)}}));return Object(f.jsxs)("section",{children:[Object(f.jsx)(m,{}),Object(f.jsx)("section",{className:"filter-bg",children:Object(f.jsx)("section",{className:"container",children:Object(f.jsx)(I,{list:o,onResetClick:this.onResetClick})})}),Object(f.jsx)("section",{className:"table-bg",children:Object(f.jsx)("section",{className:"container",children:Object(f.jsx)(B,{columns:$,rows:r})})})]})}}]),r}(a.a.Component),ne=Object(i.b)((function(e){return{orderList:e.filteredList,selectedFilters:e.selectedFilters,supplierOptions:e.supplierOptions,statusOptions:e.statusOptions}}),(function(e){return Object(h.b)({fetchOrders:W,resetFilters:Y,setSelectedFilter:q},e)}))(re),ae=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,42)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;r(e),n(e),a(e),s(e),c(e)}))},se=r(21),ce={totalCount:0,limit:0,orderList:[],filteredList:[],selectedFilters:{},supplierOptions:[],statusOptions:[]};var ie=Object(h.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:var r=t.response,n=void 0===r?{}:r,a=n.data,s=n.totalCount,c=n.limit,i=Array.isArray(a)?[C].concat(Object(D.a)(new Set(a.map((function(e){return e.vendorName}))))).map((function(e){return{label:e,value:e}})):[],o=Array.isArray(a)?[S].concat(Object(D.a)(new Set(a.map((function(e){return e.orderBuyerStatus}))))).map((function(e){return{label:e,value:e}})):[];return Object(l.a)(Object(l.a)({},e),{},{totalCount:s,limit:c,orderList:a,filteredList:a,supplierOptions:i,statusOptions:o});case U:return Object(l.a)({},ce);case J:return Object(l.a)(Object(l.a)({},e),{},{filteredList:e.orderList,selectedFilters:{}});case V:var u=t.value,p=Object.keys(u).reduce((function(t,r){return[].concat(Object(D.a)(t),Object(D.a)(e.orderList.filter((function(e){return e[r]===u[r]}))))}),[]),d=Object(D.a)(new Map(p.map((function(e){return[e.id,e]}))).values());return Object(l.a)(Object(l.a)({},e),{},{selectedFilters:u,filteredList:d});default:return e}}),Object(h.a)(se.a));c.a.render(Object(f.jsx)(i.a,{store:ie,children:Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(ne,{})})}),document.getElementById("root")),ae()}},[[41,1,2]]]);
//# sourceMappingURL=main.76cb105b.chunk.js.map